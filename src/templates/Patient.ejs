<%# Patient Template %>
<%# Based on https://mcodeinitiative.github.io/StructureDefinition-obf-Patient.html %>
<%# Official url: http://hl7.org/fhir/us/mcode/StructureDefinition/obf-Patient %>
<% /* %>
{
  id: String,
  mrn: String,
  family: String,
  given: String,
  gender: String,
}
<% */ %>
{
    "resourceType": "Patient",
    "id": "<%- id %>",
    "identifier": [
        {
            "type" : {
                "coding" : [
                  {
                    "system" : "http://terminology.hl7.org/CodeSystem/v2-0203",
                    "code" : "MR",
                    "display" : "Medical Record Number"
                  }
                ],
                "text" : "Medical Record Number"
            },
            "system": "http://example.com/system/mrn",
            "value": "<%- mrn %>"
        }
    ],
    "name": [
        {
            "text": "<%- `${given} ${family}` %>",
            "family": "<%- family %>",
            "given": [ <%- given.split(' ').map(e => `"${e}"`) %> ]
        }
    ],
    "gender": "<%- gender %>"
}

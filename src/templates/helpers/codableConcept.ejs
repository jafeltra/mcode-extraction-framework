<% if(typeof obj !== 'undefined' && obj ) { 
   let isArray = Array.isArray(obj);
   let arr = (isArray) ? obj : [obj]; 
  %> 
  <%- (typeof excludePreComma !== 'undefined' && excludePreComma) ? '' : ',' %>
    <% if(name ) { %> "<%- name -%>" : <% } %> 
    <% if(isArray) {%> [ <%} %>
  <% 
   for(let i =0; i< arr.length; i++){ 
   %>
  {  
  <% if(typeof extension !== 'undefined' && extension) { %> 
      "extension": [{
        "url" : "<%- extension.url -%>",
        <%- include("./valueX", {value: extension.value}) %>
        }],
    <% } %>
    "coding": [
      {
        "system": "<%- arr[i].system %>",
        "code": "<%- arr[i].code %>"<% if (arr[i].display) { %>,
        "display": "<%- arr[i].display %>"
        <% } %>
      }
    ]
}
<% } %>
<% if(isArray) {%> ] <%} %>
<% } %> 